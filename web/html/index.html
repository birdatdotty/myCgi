<!DOCTYPE HTML>
<html>
  <head>
    <meta charset="utf-8">
    <title>Тег FORM, атрибут method</title>
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/header.js" charset="utf-8"></script>
  </head>
  <body>
    <h1>Добро пожаловать на мой сайт</h1> Obj.page('url')
    <h2>извиняюсь за столь безобразное оформление, я занимался разработкой сервером, который отдает данную страницу</h2>
    <div id="menu">
      Obj.script("/menu.qj")
    </div>
    <main>
      Obj.chunk("/html/index.chunk")
    </main>
    <script>
      function send(f) {
        // f - form
        console.log(f)
        let form = new FormData(f)
        form.append("id","123");
        var xhr = new XMLHttpRequest();//new URL(document.URL).pathname
        xhr.open('POST', "/post" + new URL(f.action).pathname, true);
        //xhr.setRequestHeader('Content-Type', 'multipart/form-data; boundary=' + boundary);
        xhr.onreadystatechange = function() {
          if (this.readyState != 4) return;

          console.log( this.responseText );
        }

        xhr.send(form);
        f.reset();
        f.outerHTML
      }
    </script>
  </body>
</html>
